{"version":3,"sources":["../../src/models/file.js"],"names":[],"mappings":"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","file":"file.js","sourcesContent":["import mongoose from 'mongoose';\n\nconst fileSchema = new mongoose.Schema({\n  fileId: { type: String },\n  name: { type: String },\n  status: { type: Number },\n  userId: { type: String }\n});\n\nconst File = mongoose.model('File', fileSchema, 'file');\n\nexport const findUserFile = (params, cb) => {\n  File.find(params, (err, file) => {\n    if (err) return cb(err);\n    cb(null, file);\n    return true;\n  });\n};\n\nexport const deleteFile = (params, cb) => {\n  File.find(params).remove((err, response) => {\n    console.log(response);\n    const result = {\n      successfully_deleted: false\n    };\n    if (err) return cb(null, result);\n    result.successfully_deleted = true;\n    cb(null, result);\n    return true;\n  });\n};\n\n\nexport const updateFile = (params, cb) => {\n  File.findOne({ fileId: params.fileId }, (error, file) => {\n    file.status = params.status;\n    file.save((err, response) => {\n      console.log(response);\n      const result = {\n        successfully_updated: false\n      };\n      if (err) return cb(null, result);\n      result.successfully_updated = true;\n      cb(null, result);\n      return true;\n    });\n  });\n};\n\nexport const saveFile = (params, cb) => {\n  let result = {};\n  File.findOne({ fileId: params.fileId }, (error, file) => {\n    if (file === null) {\n      const newFile = new File(params);\n      newFile.save((err, response) => {\n        console.log(response);\n        result = {\n          successfully_created: false\n        };\n        if (err) return cb(null, result);\n        result.successfully_created = true;\n        cb(null, result);\n        return true;\n      });\n    } else {\n      result = {\n        file_already_exist: true\n      };\n      cb(null, result);\n      return true;\n    }\n  });\n};\n"]}